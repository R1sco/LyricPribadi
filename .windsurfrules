# .windsurfrules
tech_stack:
  frontend:
    - Electron.js
    - React.js
  backend:
    - Python Flask
  database:
    - SQLite
rules:
  - Semua komunikasi frontend-backend melalui HTTP (localhost).
  - Backend hanya expose API yang dibutuhkan frontend (RESTful, JSON).
  - Backend handle scraping Genius dan romanisasi lirik Jepang (pakai pykakasi).
  - Semua lirik yang sudah diambil disimpan ke SQLite untuk cache/offline.
  - Untuk lagu Jepang, hanya simpan romanisasi (tidak perlu kanji/kana).
  - Gunakan environment variable untuk API Key (jangan hardcode).
  - Frontend hanya fetch lirik dari backend, tidak langsung ke sumber eksternal.
  - Gunakan TypeScript di React untuk type safety.
  - Struktur folder mengikuti best practice Electron-React-Flask.
  - Dokumentasi dan commit message mengikuti global rules.# .windsurfrules
  tech_stack:
    frontend:
      - Electron.js
      - React.js
    backend:
      - Python Flask
      - Deployment: VPS (misal Ubuntu + Gunicorn + Nginx)
    database:
      - SQLite
  rules:
    - Semua komunikasi frontend-backend melalui HTTP (bukan hanya localhost, tapi domain atau IP VPS).
    - Backend expose API yang dibutuhkan frontend (RESTful, JSON) di VPS.
    - Backend handle scraping Genius dan romanisasi lirik Jepang (pakai pykakasi) di server VPS.
    - Semua lirik yang sudah diambil disimpan ke SQLite untuk cache/offline di VPS.
    - Untuk lagu Jepang, hanya simpan romanisasi (tidak perlu kanji/kana).
    - Gunakan environment variable untuk API Key (jangan hardcode) di konfigurasi server.
    - Frontend hanya fetch lirik dari backend (domain/IP VPS), tidak langsung ke sumber eksternal.
    - Gunakan TypeScript di React untuk type safety.
    - Struktur folder mengikuti best practice Electron-React-Flask.
    - Dokumentasi dan commit message mengikuti global rules.
  deployment_guide:
    - Siapkan VPS (Ubuntu 22.04 LTS).
    - Install Python3, pip, virtualenv di VPS.
    - Clone repository ke `/var/www/lyrics-app`.
    - Buat virtualenv, install `requirements.txt`.
    - Konfigurasi Gunicorn: `gunicorn --workers 4 app:app`.
    - Konfigurasi Nginx sebagai reverse proxy di `/etc/nginx/sites-available/lyrics`:
        server {
            listen 80;
            server_name your.domain.com;
            location / {
                proxy_pass http://127.0.0.1:8000;
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
            }
        }
      lalu `ln -s` ke `sites-enabled` dan `sudo systemctl reload nginx`.
    - Set environment variables di `/etc/systemd/system/lyrics.service`.
    - Jalankan service: `sudo systemctl enable --now lyrics`.